# 29. 优先考虑泛型

> 第三版

​    

### 创建泛型数组的方法

```java
T[] array = new T[5]; // 错误的写法

// 解决方法1：
T[] array = (T[]) new Object[5]; // 警告，需要加注释
T item = array[0]; // 正确

// 解决方法2
Object[] array = new Object[5];
T item = array[0]; // 编译出错
T item = (T) array[0]; // 警告，需要加注释
```

第一种方法是优选的并且在实践中更常用。但是，它会造成**堆污染**（heap pollution）（条目 32）：数组的运行时类型与编译时类型不匹配（除非 T 碰巧是 Object）。 这使得一些程序员非常不安，他们选择了第二种技术，尽管在这种情况下堆的污染是无害的。