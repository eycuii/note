# 17. 最小化可变性

> 第三版

​    

### 不可变的类

本质上是线程安全的，它们不需要同步。

需要遵循以下五条规则：

1. **不要提供修改对象状态的方法**（也称为 mutators）。
2. **确保这个类不能被继承**。 这可以防止粗心的或恶意的子类，假设对象的状态已经改变，从而破坏类的不可变行为。 防止子类化通常是通过 final 修饰类，但是我们稍后将讨论另一种方法。
3. **把所有属性设置为 final**。
4. **把所有的属性设置为 private**。
5. **确保对任何可变组件的互斥访问**。 如果类中有引用可变对象的成员，需要确保该类的客户端无法获得对这些对象的引用。

